(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(174)},174:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(22),o=a.n(c),l=a(12),i=a(5),s=a(10),u=a(1),m=(a(76),a(7)),d=a(15),p=a(184);function f(){f=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(x){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new j(n||[]);return r(o,"_invoke",{value:_(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var m={};function d(){}function p(){}function E(){}var h={};i(h,c,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(R([])));y&&y!==t&&a.call(y,c)&&(h=y);var g=E.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function _(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return L()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=w(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function w(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=E,r(g,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:p,configurable:!0}),p.displayName=i(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,i(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(O.prototype),i(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new O(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),i(g,l,"Generator"),i(g,c,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:R(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var E=function(){return function(){var e=Object(l.a)(f().mark(function e(t){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQUEST"}),e.next=4,p.a.get("/api/v1/me");case 4:a=e.sent,r=a.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(l.a)(f().mark(function e(t){var a,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_USERS_REQUEST"}),e.next=4,p.a.get("/api/v1/admin/users");case 4:a=e.sent,r=a.data,t({type:"ALL_USERS_SUCCESS",payload:r.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_USERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(l.a)(f().mark(function e(t){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(x){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new j(n||[]);return r(o,"_invoke",{value:_(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var E={};i(E,c,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(R([])));v&&v!==t&&a.call(v,c)&&(E=v);var g=f.prototype=d.prototype=Object.create(E);function b(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function _(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return L()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=w(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function w(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,r(g,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(O.prototype),i(O.prototype,o,function(){return this}),e.AsyncIterator=O,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new O(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),i(g,l,"Generator"),i(g,c,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;N(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:R(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var g=function(e,t){return function(){var a=Object(l.a)(y().mark(function a(r,n){var c,o;return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.get("/api/v1/product/".concat(e));case 2:c=a.sent,o=c.data,r({type:"ADD_TO_CART",payload:{product:o.product._id,name:o.product.name,price:o.product.price,image:o.product.images[0].url,stock:o.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(l.a)(y().mark(function t(a,r){return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"REMOVE_ITEM_CART",payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(l.a)(y().mark(function t(a){return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CLEAR_CART",payload:e.payload}),localStorage.removeItem("cartItems");case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},_=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(u.n)();return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.trim()?o("/search/".concat(a)):o("/")}},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return c(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{id:"search_btn",className:"btn"},n.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))))},w=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(m.c)(function(e){return e.auth}),c=a.user,o=a.loading,i=Object(m.c)(function(e){return e.cart}).cartItems;return n.a.createElement(r.Fragment,null,n.a.createElement("nav",{className:"navbar row"},n.a.createElement("div",{className:"col-12 col-md-3"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(s.b,{to:"/"},n.a.createElement("img",{src:"/backend/frontend/public/images/shopit_logo.png",alt:"Logo"})))),n.a.createElement("div",{className:"col-12 col-md-6 mt-2 mt-md-0"},n.a.createElement(_,null)),n.a.createElement("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center"},c&&"user"===c.role&&n.a.createElement(s.b,{to:"/cart",style:{textDecoration:"none"}},n.a.createElement("span",{id:"cart",className:"ml-3"},"Cart"),n.a.createElement("span",{className:"ml-1",id:"cart_count"},i.length)),c?n.a.createElement("div",{className:"ml-4 dropdown d-inline"},n.a.createElement(s.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("figure",{className:"avatar avatar-nav"},n.a.createElement("img",{src:c.avatar&&c.avatar.url,alt:c&&c.name,className:"rounded-circle"})),n.a.createElement("span",null,c&&c.name)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton"},c&&"admin"===c.role&&n.a.createElement(s.b,{className:"dropdown-item",to:"/dashboard"},"Dashboard"),c&&"user"===c.role&&n.a.createElement(s.b,{className:"dropdown-item",to:"/orders/me"},"Orders"),n.a.createElement(s.b,{className:"dropdown-item",to:"/me"},"Profile"),n.a.createElement(s.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(l.a)(f().mark(function e(t){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/v1/logout");case 3:t({type:"LOGOUT_SUCCESS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"LOGOUT_FAIL",payload:e.t0.response.data.message});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()),t(O(i)),e.success("Logged out successfully.")}},"Logout"))):!o&&n.a.createElement("div",null,n.a.createElement(s.b,{to:"/login",className:"btn ml-4",id:"login_btn"},"Login"),n.a.createElement(s.b,{to:"/register",className:"btn ml-4",id:"register_btn"},"Signup")))))},S=function(){return n.a.createElement(r.Fragment,null,n.a.createElement("footer",{className:"py-1"},n.a.createElement("p",{className:"text-center mt-1"},"Shopping Cart - 2022-2023, All Rights Reserved")))},N=a(89),j=a.n(N),R=a(74),L=(a(128),a(91)),x=function(e){var t=e.title;return n.a.createElement(L.a,null,n.a.createElement("title",null,"".concat(t," - ShopIT")))},C=function(e){var t=e.product,a=e.col;return n.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-".concat(a," my-3")},n.a.createElement("div",{className:"card p-3 rounded"},n.a.createElement("img",{alt:"",className:"card-img-top mx-auto",src:t.images[0].url}),n.a.createElement("div",{className:"card-body d-flex flex-column"},n.a.createElement("h5",{className:"card-title"},n.a.createElement(s.b,{to:"/product/".concat(t._id)},t.name)),n.a.createElement("div",{className:"ratings mt-auto"},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})),n.a.createElement("span",{id:"no_of_reviews"},"(",t.numOfReviews," Reviews)")),n.a.createElement("p",{className:"card-text"},"$",t.price),n.a.createElement(s.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block"},"View Details"))))},T=function(){return n.a.createElement("div",{className:"loader"})};function A(){A=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(L){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new N(n||[]);return r(o,"_invoke",{value:O(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var E={};i(E,c,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&a.call(v,c)&&(E=v);var y=f.prototype=d.prototype=Object.create(E);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function O(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return R()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=_(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function _(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new b(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(y),i(y,l,"Generator"),i(y,c,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var D=function(e){return function(){var t=Object(l.a)(A().mark(function t(a){var r,n;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,p.a.get("/api/v1/product/".concat(e));case 4:r=t.sent,n=r.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:n.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},U=function(){return function(){var e=Object(l.a)(A().mark(function e(t){var a,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ADMIN_PRODUCTS_REQUEST"}),e.next=4,p.a.get("/api/v1/admin/products");case 4:a=e.sent,r=a.data,t({type:"ADMIN_PRODUCTS_SUCCESS",payload:r.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ADMIN_PRODUCTS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(l.a)(A().mark(function e(t){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},I=(0,R.a.createSliderWithTooltip)(R.a.Range),F=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)([1,1e3]),s=Object(i.a)(o,2),f=s[0],E=s[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),y=v[0],g=v[1],b=Object(r.useState)(0),O=Object(i.a)(b,2),_=O[0],w=O[1],S=Object(d.d)(),N=Object(m.b)(),R=Object(u.p)(),L=Object(m.c)(function(e){return e.products}),D=L.loading,U=L.products,P=L.error,F=L.productsCount,k=L.resPerPage,G=L.filteredProductsCount,W=R.keyword;Object(r.useEffect)(function(){if(P)return S.error(P);N(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var c=Object(l.a)(A().mark(function c(o){var l,i,s;return A().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,o({type:"ALL_PRODUCTS_REQUEST"}),l="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&ratings[gte]=").concat(n),r&&(l="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&category=").concat(r,"&ratings[gte]=").concat(n)),c.next=6,p.a.get(l);case 6:i=c.sent,s=i.data,o({type:"ALL_PRODUCTS_SUCCESS",payload:s}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),o({type:"ALL_PRODUCTS_FAIL",payload:c.t0.response.data.message});case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(e){return c.apply(this,arguments)}}()}(W,a,f,y,_))},[N,S,P,W,a,f,y,_]);var Q=F;return W&&(Q=G),n.a.createElement(r.Fragment,null,D?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Buy Best Products online"}),n.a.createElement("h1",{id:"products_heading"},"Latest Products"),n.a.createElement("section",{id:"products",className:"container mt-5"},n.a.createElement("div",{className:"row"},W?n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"col-6 col-md-3 mt-5 mb-5"},n.a.createElement("div",{className:"px-5"},n.a.createElement(I,{marks:{1:"$1",100:"$100"},min:1,max:100,defaultValue:[1,100],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:f,onChange:function(e){return E(e)}}),n.a.createElement("hr",{className:"my-5"}),n.a.createElement("div",{className:"mt-5"},n.a.createElement("h4",{className:"mb-3"},"Categories"),n.a.createElement("ul",{className:"pl-0"},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return g(e)}},e)}))),n.a.createElement("hr",{className:"my-3"}),n.a.createElement("div",{className:"mt-5"},n.a.createElement("h4",{className:"mb-3"},"Ratings"),n.a.createElement("ul",{className:"pl-0"},[5,4,3,2,1].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return w(e)}},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})))}))))),n.a.createElement("div",{className:"col-6 col-md-9"},n.a.createElement("div",{className:"row"},U&&U.map(function(e){return n.a.createElement(C,{key:e._id,product:e,col:4})})))):U&&U.map(function(e){return n.a.createElement(C,{key:e._id,product:e,col:3})}))),k<=Q&&n.a.createElement("div",{className:"d-flex justify-content-center mt-5"},n.a.createElement(j.a,{activePage:a,itemsCountPerPage:k,totalItemsCount:F,onChange:function(e){c(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"first",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"}))))},k=a(183),G=function(e){var t=e.reviews;return n.a.createElement("div",{class:"reviews w-75"},n.a.createElement("h3",null,"Other's Reviews:"),n.a.createElement("hr",null),t&&t.map(function(e){return n.a.createElement("div",{key:e._id,class:"review-card my-3"},n.a.createElement("div",{class:"rating-outer"},n.a.createElement("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})),n.a.createElement("p",{class:"review_user"},"by ",e.name),n.a.createElement("p",{class:"review_comment"},e.comment),n.a.createElement("hr",null))}))},W=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(0),s=Object(i.a)(o,2),f=s[0],E=s[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),y=v[0],b=v[1],O=Object(m.b)(),_=Object(d.d)(),w=Object(u.p)(),S=Object(m.c)(function(e){return e.productDetails}),N=S.loading,j=S.error,R=S.product,L=Object(m.c)(function(e){return e.auth}).user,C=Object(m.c)(function(e){return e.newReview}),U=C.error,I=C.success;Object(r.useEffect)(function(){O(D(w.id)),j&&(_.error(j),O(P())),U&&(_.error(U),O(P())),I&&(_.success("Reivew posted successfully"),O({type:"NEW_REVIEW_RESET"}))},[O,_,j,U,w.id,I]);return n.a.createElement(r.Fragment,null,N?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:R.name}),n.a.createElement("div",{className:"row d-flex justify-content-around"},n.a.createElement("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image"},n.a.createElement(k.a,{pause:"hover",nextLabel:!1,indicators:!1,fade:!0,prevLabel:!1,variant:"dark"},R.images&&R.images.map(function(e){return n.a.createElement(k.a.Item,{key:e.public_id},n.a.createElement("img",{className:"d-block w-100",src:e.url,alt:R.title}))}))),n.a.createElement("div",{className:"col-12 col-lg-5 mt-5"},n.a.createElement("h3",null,R.name),n.a.createElement("p",{id:"product_id"},"Product # ",R._id),n.a.createElement("hr",null),n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(R.ratings/5*100,"%")}})),n.a.createElement("span",{id:"no_of_reviews"},"(",R.numOfReviews," Reviews)"),n.a.createElement("hr",null),n.a.createElement("p",{id:"product_price"},"$",R.price),L&&"user"===L.role&&n.a.createElement("div",{className:"stockCounter d-inline"},n.a.createElement("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;c(t)}}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:a,readOnly:!0}),n.a.createElement("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=R.stock)){var t=e.valueAsNumber+1;c(t)}}},"+")),L&&"user"===L.role&&n.a.createElement("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===R.stock,onClick:function(){O(g(w.id,a)),_.success("Item Added to Cart")}},"Add to Cart"),n.a.createElement("hr",null),n.a.createElement("p",null,"Status: ",n.a.createElement("span",{id:"stock_status",className:R.stock>0?"greenColor":"redColor"},R.stock>0?"In Stock":"Out of Stock")),n.a.createElement("hr",null),n.a.createElement("h4",{className:"mt-2"},"Description:"),n.a.createElement("p",null,R.description),n.a.createElement("hr",null),n.a.createElement("p",{id:"product_seller mb-3"},"Sold by: ",n.a.createElement("strong",null,R.seller)),L&&"user"===L.role&&n.a.createElement("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var a=this;e.forEach(function(e,r){"click"===t.type&&(r<a.starValue?(e.classList.add("orange"),E(a.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(r<a.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")})}e.forEach(function(e,a){e.starValue=a+1,["click","mouseover","mouseout"].forEach(function(a){e.addEventListener(a,t)})})}},"Submit Your Review"),!L&&n.a.createElement("div",{className:"alert alert-danger mt-5",type:"alert"},"Login to post your review."),n.a.createElement("div",{className:"row mt-2 mb-5"},n.a.createElement("div",{className:"rating w-50"},n.a.createElement("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"ratingModalLabel"},"Submit Review"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("ul",{className:"stars"},n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"}))),n.a.createElement("textarea",{name:"review",id:"review",className:"form-control mt-3",value:y,onChange:function(e){return b(e.target.value)}}),n.a.createElement("button",{className:"btn my-3 float-right review-btn px-4 text-white",onClick:function(){var e,t=new FormData;t.set("rating",f),t.set("comment",y),t.set("productId",w.id),O((e=t,function(){var t=Object(l.a)(A().mark(function t(a){var r,n,c;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"NEW_REVIEW_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,p.a.put("/api/v1/review",e,r);case 5:n=t.sent,c=n.data,a({type:"NEW_REVIEW_SUCCESS",payload:c.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"NEW_REVIEW_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()))},"data-dismiss":"modal","aria-label":"Close"},"Submit"))))))))),R.reviews&&R.reviews.length>0&&n.a.createElement(G,{reviews:R.reviews})))},Q=function(){var e=Object(m.b)(),t=Object(u.n)(),a=Object(m.c)(function(e){return e.cart}).cartItems;return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Your Cart"}),0===a.length?n.a.createElement("h2",{className:"mt-5"},"Your Cart is Empty"):n.a.createElement(r.Fragment,null,n.a.createElement("h2",{className:"mt-5"},"Your Cart: ",n.a.createElement("b",null,a.length," items")),n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8"},a.map(function(t){return n.a.createElement(r.Fragment,null,n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item",key:t.product},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 col-lg-3"},n.a.createElement("img",{src:t.image,alt:"",height:"90",width:"115"})),n.a.createElement("div",{className:"col-5 col-lg-3"},n.a.createElement(s.b,{to:"/product/".concat(t.product)},t.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",{id:"card_item_price"},"$",t.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("div",{className:"stockCounter d-inline"},n.a.createElement("span",{className:"btn btn-danger minus",onClick:function(){return function(t,a){var r=a-1;e(r<=0?b(t):g(t,r))}(t.product,t.quantity)}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:t.quantity,readOnly:!0}),n.a.createElement("span",{className:"btn btn-primary plus",onClick:function(){return function(t,a,r){var n=a+1;n>r||e(g(t,n))}(t.product,t.quantity,t.stock)}},"+"))),n.a.createElement("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0"},n.a.createElement("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return a=t.product,void e(b(a));var a}})))),n.a.createElement("hr",null))})),n.a.createElement("div",{className:"col-12 col-lg-3 my-4"},n.a.createElement("div",{id:"order_summary"},n.a.createElement("h4",null,"Order Summary"),n.a.createElement("hr",null),n.a.createElement("p",null,"Subtotal:  ",n.a.createElement("span",{className:"order-summary-values"},a.reduce(function(e,t){return e+Number(t.quantity)},0)," (Units)")),n.a.createElement("p",null,"Est. total: ",n.a.createElement("span",{className:"order-summary-values"},"$",a.reduce(function(e,t){return e+t.quantity*t.price},0).toFixed(2))),n.a.createElement("hr",null),n.a.createElement("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t("/shipping")}},"Check out"))))))},q=a(62),V=function(e){var t=e.shipping,a=e.confirmOrder,r=e.payment;return n.a.createElement("div",{className:"checkout-progress d-flex justify-content-center mt-5"},t?n.a.createElement(s.b,{to:"shippping",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Shipping"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(s.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Shipping"),n.a.createElement("div",{className:"triangle-incomplete"})),a?n.a.createElement(s.b,{to:"/order/confirm",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Confirm Order"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(s.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Confirm Order"),n.a.createElement("div",{className:"triangle-incomplete"})),r?n.a.createElement(s.b,{to:"/payment",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Payment"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(s.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Payment"),n.a.createElement("div",{className:"triangle-incomplete"})))},M=function(){var e=Object(m.c)(function(e){return e.auth}).user,t=Object(r.useState)(e.address),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(e.city),d=Object(i.a)(s,2),p=d[0],f=d[1],E=Object(r.useState)(e.postalCode),h=Object(i.a)(E,2),v=h[0],g=h[1],b=Object(r.useState)(e.phoneNo),O=Object(i.a)(b,2),_=O[0],w=O[1],S=Object(r.useState)(e.country),N=Object(i.a)(S,2),j=N[0],R=N[1],L=Object(m.b)(),C=Object(u.n)(),T=Object.values(q.countries);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Shipping Info"}),n.a.createElement(V,{shipping:!0}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){var t;e.preventDefault(),L((t={address:c,city:p,phoneNo:_,postalCode:v,country:j},function(){var e=Object(l.a)(y().mark(function e(a){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"SAVE_SHIPPING_INFO",payload:t}),localStorage.setItem("shippingInfo",JSON.stringify(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),C("/order/confirm")}},n.a.createElement("h1",{className:"mb-4"},"Shipping Info"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address_field"},"Address"),n.a.createElement("input",{type:"text",id:"address_field",className:"form-control",defaultValue:e.address,maxLength:"100",onChange:function(e){return o(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"city_field"},"City"),n.a.createElement("input",{type:"text",id:"city_field",className:"form-control",defaultValue:e.city,maxLength:"30",onChange:function(e){return f(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"phone_field"},"Phone No"),n.a.createElement("input",{type:"number",id:"phone_field",className:"form-control",defaultValue:e.phoneNo,max:"9999999999",min:"1000000000",onChange:function(e){return w(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"postal_code_field"},"Postal Code"),n.a.createElement("input",{type:"number",id:"postal_code_field",className:"form-control",defaultValue:e.postalCode,max:"999999",min:"100000",onChange:function(e){return g(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"country_field"},"Country"),n.a.createElement("select",{id:"country_field",className:"form-control",defaultValue:e.country,onChange:function(e){return R(e.target.value)},required:!0},T.map(function(e){return n.a.createElement("option",{key:e.name,value:e.name},e.name)}))),n.a.createElement("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3"},"CONTINUE")))))},Y=function(){var e=Object(u.n)(),t=Object(m.c)(function(e){return e.cart}),a=t.cartItems,c=t.shippingInfo,o=Object(m.c)(function(e){return e.auth}).user,l=a.reduce(function(e,t){return e+t.price*t.quantity},0),i=l>200?0:25,d=Number((.05*l).toFixed(2)),p=(l+i+d).toFixed(2);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Confirm Order"}),n.a.createElement(V,{shipping:!0,confirmOrder:!0}),n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-5 order-confirm"},n.a.createElement("h4",{className:"mb-3"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",o&&o.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",c.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:")," ","".concat(c.address,", ").concat(c.city,", ").concat(c.postalCode,", ").concat(c.country)),n.a.createElement("hr",null),n.a.createElement("h4",{className:"mt-4"},"Your Cart Items:"),a.map(function(e){return n.a.createElement(r.Fragment,null,n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1",key:e.product},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:"",height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-6"},n.a.createElement(s.b,{to:"/product/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," x $",e.price," = ",n.a.createElement("b",null,"$",(e.quantity*e.price).toFixed(2)))))),n.a.createElement("hr",null))})),n.a.createElement("div",{className:"col-12 col-lg-3 my-4"},n.a.createElement("div",{id:"order_summary"},n.a.createElement("h4",null,"Order Summary"),n.a.createElement("hr",null),n.a.createElement("p",null,"Subtotal:  ",n.a.createElement("span",{className:"order-summary-values"},"$",l)),n.a.createElement("p",null,"Shipping: ",n.a.createElement("span",{className:"order-summary-values"},"$",i)),n.a.createElement("p",null,"Tax:  ",n.a.createElement("span",{className:"order-summary-values"},"$",d)),n.a.createElement("hr",null),n.a.createElement("p",null,"Total: ",n.a.createElement("span",{className:"order-summary-values"},"$",p)),n.a.createElement("hr",null),n.a.createElement("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var t={itemsPrice:l.toFixed(2),shippingPrice:i,taxPrice:d,totalPrice:p};sessionStorage.setItem("orderInfo",JSON.stringify(t)),e("/payment")}},"Proceed to Payment")))))},$=a(38);function B(){B=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(L){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new N(n||[]);return r(o,"_invoke",{value:O(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var E={};i(E,c,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&a.call(v,c)&&(E=v);var y=f.prototype=d.prototype=Object.create(E);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function O(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return R()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=_(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function _(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new b(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(y),i(y,l,"Generator"),i(y,c,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var H=function(e){return function(){var t=Object(l.a)(B().mark(function t(a,r){var n,c,o;return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_ORDER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},t.next=5,p.a.post("/api/v1/order/new",e,n);case 5:c=t.sent,o=c.data,a({type:"CREATE_ORDER_SUCCESS",payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"CREATE_ORDER_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(l.a)(B().mark(function t(a){var r,n;return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),t.next=4,p.a.get("/api/v1/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"ORDER_DETAILS_SUCCESS",payload:n.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},z=function(){return function(){var e=Object(l.a)(B().mark(function e(t){var a,r;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_ORDERS_REQUEST"}),e.next=4,p.a.get("/api/v1/admin/orders");case 4:a=e.sent,r=a.data,t({type:"ALL_ORDERS_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var e=Object(l.a)(B().mark(function e(t){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};function X(){X=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(L){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new N(n||[]);return r(o,"_invoke",{value:O(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var E={};i(E,c,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&a.call(v,c)&&(E=v);var y=f.prototype=d.prototype=Object.create(E);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function O(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return R()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=_(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function _(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new b(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(y),i(y,l,"Generator"),i(y,c,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var Z={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},ee=function(){var e=Object(d.d)(),t=Object($.useStripe)(),a=Object($.useElements)(),c=Object(m.b)(),o=Object(u.n)(),i=Object(m.c)(function(e){return e.auth}).user,s=Object(m.c)(function(e){return e.cart}),f=s.cartItems,E=s.shippingInfo,h=Object(m.c)(function(e){return e.newOrder}).error;Object(r.useEffect)(function(){h&&(e.error(h),c(K()))},[c,e,h]);var v={orderItems:f,shippingInfo:E},y=JSON.parse(sessionStorage.getItem("orderInfo"));y&&(v.itemsPrice=y.itemsPrice,v.shippingPrice=y.shippingPrice,v.taxPrice=y.taxPrice,v.totalPrice=y.totalPrice);var g={amount:Math.round(100*y.totalPrice)},b=function(){var r=Object(l.a)(X().mark(function r(n){var l,s,u,m;return X().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),document.querySelector("#pay_btn").disabled=!0,r.prev=2,s={headers:{"Content-Type":"application/json"}},r.next=6,p.a.post("/api/v1/payment/process",g,s);case 6:if(l=r.sent,u=l.data.client_secret,console.log(u),t&&a){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,t.confirmCardPayment(u,{payment_method:{card:a.getElement($.CardNumberElement),billing_details:{name:i.name,email:i.email}}});case 13:(m=r.sent).error?(e.error(m.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===m.paymentIntent.status?(v.paymentInfo={id:m.paymentIntent.id,status:m.paymentIntent.status},c(H(v)),c(O(f)),o("/success")):e.error("There is some issue while payment processing"),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(2),document.querySelector("#pay_btn").disabled=!1,e.error(r.t0.response.data.message);case 21:case"end":return r.stop()}},r,null,[[2,17]])}));return function(e){return r.apply(this,arguments)}}();return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Payment"}),n.a.createElement(V,{shipping:!0,confirmOrder:!0,payment:!0}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:b},n.a.createElement("h1",{className:"mb-4"},"Card Info"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_num_field"},"Card Number"),n.a.createElement($.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Z})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_exp_field"},"Card Expiry"),n.a.createElement($.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Z})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_cvc_field"},"Card CVC"),n.a.createElement($.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Z})),n.a.createElement("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3"},"Pay "," - ".concat(y&&y.totalPrice))))))},te=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Order Success"}),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-6 mt-5 text-center"},n.a.createElement("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),n.a.createElement("h2",null,"Your Order has been placed successfully."),n.a.createElement(s.b,{to:"/orders/me"},"Go to Orders"))))},ae=a(36),re=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(m.c)(function(e){return e.myOrders}),c=a.loading,o=a.error,i=a.orders;Object(r.useEffect)(function(){t(function(){var e=Object(l.a)(B().mark(function e(t){var a,r;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDERS_REQUEST"}),e.next=4,p.a.get("/api/v1/orders/me");case 4:a=e.sent,r=a.data,t({type:"MY_ORDERS_SUCCESS",payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"MY_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),o&&(e.error(o),t(K()))},[t,e,o]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"My Orders"}),n.a.createElement("h1",{className:"my-5"},"My Orders"),c?n.a.createElement(T,null):n.a.createElement(ae.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return i.forEach(function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},t.orderStatus):n.a.createElement("p",{style:{color:"red"}},t.orderStatus),actions:n.a.createElement(s.b,{to:"/order/".concat(t._id),className:"btn btn-primary"},n.a.createElement("i",{className:"fa fa-eye"}))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}))},ne=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(u.p)(),c=Object(m.c)(function(e){return e.orderDetails}),o=c.loading,l=c.error,i=c.order,p=void 0===i?{}:i,f=p.shippingInfo,E=p.orderItems,h=p.paymentInfo,v=p.user,y=p.totalPrice,g=p.orderStatus;Object(r.useEffect)(function(){t(J(a.id)),l&&(e.error(l),t(K()))},[t,e,l,a.id]);var b=f&&"".concat(f.address,", ").concat(f.city,", ").concat(f.postalCode,", ").concat(f.country),O=!(!h||"succeeded"!==h.status);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Order Details"}),o?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-5 order-details"},n.a.createElement("h1",{className:"my-5"},"Order # ",p._id),n.a.createElement("h4",{className:"mb-4"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",v&&v.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",f&&f.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:"),b),n.a.createElement("p",null,n.a.createElement("b",null,"Amount:")," $",y),n.a.createElement("hr",null),n.a.createElement("h4",{className:"my-4"},"Payment"),n.a.createElement("p",{className:O?"greenColor":"redColor"},n.a.createElement("b",null,O?"PAID":"NOT PAID")),n.a.createElement("h4",{className:"my-4"},"Order Status:"),n.a.createElement("p",{className:p.orderStatus&&String(p.orderStatus).includes("Delivered")?"greenColor":"redColor"},n.a.createElement("b",null,g)),n.a.createElement("h4",{className:"my-4"},"Order Items:"),n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1"},E&&E.map(function(e){return n.a.createElement("div",{key:e.product,className:"row my-5"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:e.name,height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-5"},n.a.createElement(s.b,{to:"/products/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",null,"$",e.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," Piece(s)")))})),n.a.createElement("hr",null)))))},ce=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),E=Object(i.a)(o,2),h=E[0],y=E[1],g=Object(u.n)(),b=Object(u.l)(),O=Object(d.d)(),_=Object(m.b)(),w=Object(m.c)(function(e){return e.auth}),S=w.isAuthenticated,N=w.error,j=w.loading,R=b.search?b.search.split("=")[1]:"/";Object(r.useEffect)(function(){S&&g(R),N&&(O.error(N),_(v()))},[_,O,S,N,g]);return n.a.createElement(r.Fragment,null,j?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Login"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),_(function(e,t){return function(){var a=Object(l.a)(f().mark(function a(r){var n,c,o;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"LOGIN_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,p.a.post("/api/v1/login",{email:e,password:t},n);case 5:c=a.sent,o=c.data,r({type:"LOGIN_SUCCESS",payload:o.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"LOGIN_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(a,h))}},n.a.createElement("h1",{className:"mb-3"},"Login"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",value:h,minLength:"6",onChange:function(e){return y(e.target.value)},required:!0})),n.a.createElement(s.b,{to:"/password/forgot",className:"float-right mb-4"},"Forgot Password?"),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3"},"LOGIN"),n.a.createElement(s.b,{to:"/register",className:"float-right mt-3"},"New User?"))))))},oe=a(24),le=a(9),ie=function(){var e=Object(r.useState)({name:"",email:"",password:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=a.name,s=a.email,E=a.password,h=Object(r.useState)(""),y=Object(i.a)(h,2),g=y[0],b=y[1],O=Object(r.useState)("/images/default_avatar.jpg"),_=Object(i.a)(O,2),w=_[0],S=_[1],N=Object(d.d)(),j=Object(m.b)(),R=Object(u.n)(),L=Object(m.c)(function(e){return e.auth}),C=L.isAuthenticated,T=L.error,A=L.loading;Object(r.useEffect)(function(){C&&R("/"),T&&(N.error(T),j(v()))},[j,N,C,T,R]);var D=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(S(t.result),b(t.result))},t.readAsDataURL(e.target.files[0])}else c(Object(le.a)({},a,Object(oe.a)({},e.target.name,e.target.value)))};return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Register User"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",o),a.set("email",s),a.set("password",E),a.set("avatar",g),j((t=a,function(){var e=Object(l.a)(f().mark(function e(a){var r,n,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REGISTER_USER_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,p.a.post("/api/v1/register",t,r);case 5:n=e.sent,c=n.data,a({type:"REGISTER_USER_SUCCESS",payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"REGISTER_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-3"},"Register"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Name"),n.a.createElement("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:o,maxLength:"30",onChange:D,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:s,onChange:D,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:E,minLength:"6",onChange:D,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"avatar_upload"},"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:w,className:"rounded-circle",alt:"avatar Preview"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:D}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Avatar")))),n.a.createElement("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!A},"REGISTER")))))},se=function(){var e=Object(m.c)(function(e){return e.auth}),t=e.user,a=e.loading;return n.a.createElement(r.Fragment,null,a?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Your Profile"}),n.a.createElement("h2",{className:"mt-5 ml-5"},"My Profile"),n.a.createElement("div",{className:"row justify-content-around mt-5 user-info"},n.a.createElement("div",{className:"col-12 col-md-3"},n.a.createElement("figure",{className:"avatar avatar-profile"},n.a.createElement("img",{className:"rounded-circle img-fluid",src:t.avatar&&t.avatar.url,alt:t&&t.name})),n.a.createElement(s.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5"},"Edit Profile")),n.a.createElement("div",{className:"col-12 col-md-5"},n.a.createElement("h4",null,"Full Name"),n.a.createElement("p",null,t.name),n.a.createElement("h4",null,"Email Address"),n.a.createElement("p",null,t.email),n.a.createElement("h4",null,"Joined On"),n.a.createElement("p",null,String(t.createdAt).substring(0,10)),"admin"!==t.role&&n.a.createElement(s.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5"},"My Orders"),n.a.createElement(s.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3"},"Change Password")))))},ue=function(){var e=Object(m.c)(function(e){return e.auth}).user,t=Object(m.c)(function(e){return e.user}),a=t.error,c=t.isUpdated,o=t.loading,s=Object(r.useState)(""),h=Object(i.a)(s,2),y=h[0],g=h[1],b=Object(r.useState)(""),O=Object(i.a)(b,2),_=O[0],w=O[1],S=Object(r.useState)(e.address),N=Object(i.a)(S,2),j=N[0],R=N[1],L=Object(r.useState)(e.city),C=Object(i.a)(L,2),T=C[0],A=C[1],D=Object(r.useState)(e.postalCode),U=Object(i.a)(D,2),P=U[0],I=U[1],F=Object(r.useState)(e.phoneNo),k=Object(i.a)(F,2),G=k[0],W=k[1],Q=Object(r.useState)(e.country),V=Object(i.a)(Q,2),M=V[0],Y=V[1],$=Object(r.useState)(""),B=Object(i.a)($,2),H=B[0],J=B[1],z=Object(r.useState)("/images/default_avatar.jpg"),K=Object(i.a)(z,2),X=K[0],Z=K[1],ee=Object(d.d)(),te=Object(m.b)(),ae=Object(u.n)(),re=Object.values(q.countries);Object(r.useEffect)(function(){e&&(g(e.name),w(e.email),Z(e.avatar.url),R(e.address),A(e.city),I(e.postalCode),W(e.phoneNo),Y(e.country)),a&&(ee.error(a),te(v())),c&&(ee.success("User updated successfully"),te(E()),ae("/me"),te({type:"UPDATE_PROFILE_RESET"}))},[te,e,ee,a,ae,c]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Update Profile"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",y),a.set("email",_),a.set("avatar",H),a.set("address",j),a.set("city",T),a.set("postalCode",P),a.set("phoneNo",G),a.set("country",M),te((t=a,function(){var e=Object(l.a)(f().mark(function e(a){var r,n,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PROFILE_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,p.a.put("/api/v1/me/update",t,r);case 5:n=e.sent,c=n.data,a({type:"UPDATE_PROFILE_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PROFILE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update Profile"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Name"),n.a.createElement("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:y,maxLength:"30",onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:_,onChange:function(e){return w(e.target.value)}})),"admin"!==e.role&&n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address_field"},"Address"),n.a.createElement("input",{type:"text",id:"address_field",className:"form-control",value:j,maxLength:"100",onChange:function(e){return R(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"city_field"},"City"),n.a.createElement("input",{type:"text",id:"city_field",className:"form-control",value:T,maxLength:"30",onChange:function(e){return A(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"phone_field"},"Phone No"),n.a.createElement("input",{type:"number",id:"phone_field",className:"form-control",value:G,onChange:function(e){return W(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"postal_code_field"},"Postal Code"),n.a.createElement("input",{type:"number",id:"postal_code_field",className:"form-control",value:P,onChange:function(e){return I(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"country_field"},"Country"),n.a.createElement("select",{id:"country_field",className:"form-control",value:M,onChange:function(e){return Y(e.target.value)}},re.map(function(e){return n.a.createElement("option",{key:e.name,value:e.name},e.name)})))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"avatar_upload"},"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:X,className:"rounded-circle",alt:"Avatar Preview"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(Z(t.result),J(t.result))},t.readAsDataURL(e.target.files[0])}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Avatar")))),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!o},"Update")))))},me=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),E=s[0],h=s[1],y=Object(d.d)(),g=Object(m.b)(),b=Object(u.n)(),O=Object(m.c)(function(e){return e.user}),_=O.error,w=O.isUpdated,S=O.loading;Object(r.useEffect)(function(){_&&(y.error(_),g(v())),w&&(y.success("Password updated successfully"),b("/me"),g({type:"UPDATE_PASSWORD_RESET"}))},[g,y,_,b,w]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Change Password"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r=new FormData;r.set("oldPassword",a),r.set("password",E),g((t=r,function(){var e=Object(l.a)(f().mark(function e(a){var r,n,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,p.a.put("/api/v1/password/update",t,r);case 5:n=e.sent,c=n.data,a({type:"UPDATE_PASSWORD_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PASSWORD_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"old_password_field"},"Old Password"),n.a.createElement("input",{type:"password",id:"old_password_field",className:"form-control",value:a,minLength:"6",onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"new_password_field"},"New Password"),n.a.createElement("input",{type:"password",id:"new_password_field",className:"form-control",value:E,onChange:function(e){return h(e.target.value)},minLength:"6",required:!0})),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!S},"Update Password")))))},de=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(d.d)(),s=Object(m.b)(),u=Object(m.c)(function(e){return e.forgotPassword}),E=u.error,h=u.loading,y=u.message;Object(r.useEffect)(function(){E&&(o.error(E),s(v())),y&&o.success(y)},[s,o,E,y]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Forgot Password"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",a),s(function(e){return function(){var t=Object(l.a)(f().mark(function t(a){var r,n,c;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,p.a.post("/api/v1/password/forgot",e,r);case 5:n=t.sent,c=n.data,a({type:"FORGOT_PASSWORD_SUCCESS",payload:c.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(t))}},n.a.createElement("h1",{className:"mb-3"},"Forgot Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Enter Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!h},"Send Email")))))},pe=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),E=s[0],h=s[1],y=Object(d.d)(),g=Object(m.b)(),b=Object(u.n)(),O=Object(u.p)(),_=Object(m.c)(function(e){return e.forgotPassword}),w=_.error,S=_.success;Object(r.useEffect)(function(){w&&(y.error(w),g(v())),S&&(y.success("Password updated successfully"),b("/login"))},[g,y,w,S,b]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"New Password Reset"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,n=new FormData;n.set("password",a),n.set("confirmPassword",E),g((t=O.token,r=n,function(){var e=Object(l.a)(f().mark(function e(a){var n,c,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"NEW_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,p.a.put("/api/v1/password/reset/".concat(t),r,n);case 5:c=e.sent,o=c.data,a({type:"NEW_PASSWORD_SUCCESS",payload:o.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"NEW_PASSWORD_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("h1",{className:"mb-3"},"New Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},minLength:"6",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirm_password_field"},"Confirm Password"),n.a.createElement("input",{type:"password",id:"confirm_password_field",className:"form-control",value:E,onChange:function(e){return h(e.target.value)},minLength:"6",required:!0})),n.a.createElement("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3"},"Set Password")))))},fe=function(){return n.a.createElement("div",{className:"sidebar-wrapper"},n.a.createElement("nav",{id:"sidebar"},n.a.createElement("ul",{className:"list-unstyled components"},n.a.createElement("li",null,n.a.createElement(s.b,{to:"/dashboard"},n.a.createElement("i",{className:"fa fa-tachometer"})," Dashboard")),n.a.createElement("li",null,n.a.createElement("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle"},n.a.createElement("i",{className:"fa fa-product-hunt"})," Products"),n.a.createElement("ul",{className:"collapse list-unstyled",id:"productSubmenu"},n.a.createElement("li",null,n.a.createElement(s.b,{to:"/admin/products"},n.a.createElement("i",{className:"fa fa-clipboard"})," All")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/admin/product"},n.a.createElement("i",{className:"fa fa-plus"})," Create")))),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/admin/orders"},n.a.createElement("i",{className:"fa fa-shopping-basket"})," Orders")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/admin/users"},n.a.createElement("i",{className:"fa fa-users"})," Users")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/admin/reviews"},n.a.createElement("i",{className:"fa fa-star"})," Reviews")))))},Ee=function(){var e=Object(m.b)(),t=Object(m.c)(function(e){return e.products}).products,a=Object(m.c)(function(e){return e.allUsers}).users,c=Object(m.c)(function(e){return e.allOrders}),o=c.orders,l=c.totalAmount,i=c.loading,u=0;return t.forEach(function(e){0===e.stock&&(u+=1)}),Object(r.useEffect)(function(){e(U()),e(z()),e(h())},[e]),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement("h1",{className:"my-4"},"Dashboard"),i?n.a.createElement(T,null):n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Admin Dashboard"}),n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-12 col-sm-12 mb-3"},n.a.createElement("div",{className:"card text-white bg-primary o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Total Amount",n.a.createElement("br",null)," ",n.a.createElement("b",null,"$",l&&l.toFixed(2))))))),n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-success o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Products",n.a.createElement("br",null)," ",n.a.createElement("b",null,t&&t.length))),n.a.createElement(s.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-danger o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Orders",n.a.createElement("br",null)," ",n.a.createElement("b",null,o&&o.length))),n.a.createElement(s.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-info o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Users",n.a.createElement("br",null)," ",n.a.createElement("b",null,a&&a.length))),n.a.createElement(s.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-warning o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Out of Stock",n.a.createElement("br",null)," ",n.a.createElement("b",null,u))))))))))},he=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(u.n)(),c=Object(m.c)(function(e){return e.products}),o=c.loading,i=c.error,f=c.products,E=Object(m.c)(function(e){return e.product}),h=E.error,v=E.isDeleted;Object(r.useEffect)(function(){t(U()),i&&(e.error(i),t(P())),h&&(e.error(h),t(P())),v&&(e.success("Product deleted successfully"),a("/admin/products"),t({type:"DELETE_PRODUCT_RESET"}))},[t,e,i,h,v,a]);var y=function(e){t(function(e){return function(){var t=Object(l.a)(A().mark(function t(a){var r,n;return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_REQUEST"}),t.next=4,p.a.delete("/api/v1/admin/product/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_PRODUCT_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"All Products"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Products"),o?n.a.createElement(T,null):n.a.createElement(ae.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return f.forEach(function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock,actions:n.a.createElement(r.Fragment,null,n.a.createElement(s.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return y(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})))))},ve=a(26),ye=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(0),s=Object(i.a)(o,2),f=s[0],E=s[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),y=v[0],g=v[1],b=Object(r.useState)(""),O=Object(i.a)(b,2),_=O[0],w=O[1],S=Object(r.useState)(0),N=Object(i.a)(S,2),j=N[0],R=N[1],L=Object(r.useState)(""),C=Object(i.a)(L,2),T=C[0],D=C[1],U=Object(r.useState)([]),I=Object(i.a)(U,2),F=I[0],k=I[1],G=Object(r.useState)([]),W=Object(i.a)(G,2),Q=W[0],q=W[1],V=Object(d.d)(),M=Object(m.b)(),Y=Object(u.n)(),$=Object(m.c)(function(e){return e.newProduct}),B=$.error,H=$.success;Object(r.useEffect)(function(){B&&(V.error(B),M(P())),H&&(Y("/admin/products"),V.success("Product created successfully"),M({type:"NEW_PRODUCT_RESET"}))},[M,V,B,H,Y]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"New Product"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"wrapper my-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r=new FormData;r.set("name",a),r.set("price",f),r.set("description",y),r.set("category",_),r.set("stock",j),r.set("seller",T),F.forEach(function(e){r.append("images",e)}),M((t=r,function(){var e=Object(l.a)(A().mark(function e(a){var r,n,c;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"NEW_PRODUCT_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,p.a.post("/api/v1/admin/product/new",t,r);case 5:n=e.sent,c=n.data,a({type:"NEW_PRODUCT_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"NEW_PRODUCT_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-4"},"New Product"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"text",id:"name_field",className:"form-control",value:a,maxLength:"100",onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"price_field"},"Price"),n.a.createElement("input",{type:"number",id:"price_field",className:"form-control",value:f,min:"0",onChange:function(e){return E(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description_field"},"Description"),n.a.createElement("textarea",{className:"form-control",required:!0,id:"description_field",rows:"8",value:y,onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"category_field"},"Category"),n.a.createElement("select",{className:"form-control",id:"category_field",required:!0,value:_,onChange:function(e){return w(e.target.value)}},["Select Category","Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"stock_field"},"Stock"),n.a.createElement("input",{type:"number",id:"stock_field",className:"form-control",value:j,min:"0",onChange:function(e){return R(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"seller_field"},"Seller Name"),n.a.createElement("input",{type:"text",id:"seller_field",className:"form-control",value:T,onChange:function(e){return D(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Images"),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);q([]),k([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(q(function(e){return[].concat(Object(ve.a)(e),[t.result])}),k(function(e){return[].concat(Object(ve.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Images")),Q.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"})})),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3"},"CREATE")))))))},ge=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(0),s=Object(i.a)(o,2),f=s[0],E=s[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),y=v[0],g=v[1],b=Object(r.useState)(""),O=Object(i.a)(b,2),_=O[0],w=O[1],S=Object(r.useState)(0),N=Object(i.a)(S,2),j=N[0],R=N[1],L=Object(r.useState)(""),C=Object(i.a)(L,2),T=C[0],U=C[1],I=Object(r.useState)([]),F=Object(i.a)(I,2),k=F[0],G=F[1],W=Object(r.useState)([]),Q=Object(i.a)(W,2),q=Q[0],V=Q[1],M=Object(r.useState)([]),Y=Object(i.a)(M,2),$=Y[0],B=Y[1],H=Object(d.d)(),J=Object(m.b)(),z=Object(u.n)(),K=Object(u.p)(),X=Object(m.c)(function(e){return e.productDetails}),Z=X.error,ee=X.product,te=Object(m.c)(function(e){return e.product}),ae=te.error,re=te.isUpdated,ne=K.id;Object(r.useEffect)(function(){ee&&ee._id!==ne||re?J(D(ne)):(c(ee.name),E(ee.price),g(ee.description),w(ee.category),U(ee.seller),R(ee.stock),V(ee.images)),Z&&(H.error(Z),J(P())),ae&&(H.error(ae),J(P())),re&&(z("/admin/products"),H.success("Product updated successfully"),J({type:"UPDATE_PRODUCT_RESET"}))},[J,H,Z,re,z,ae,ee,ne]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Update Product"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"wrapper my-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,n=new FormData;n.set("name",a),n.set("price",f),n.set("description",y),n.set("category",_),n.set("stock",j),n.set("seller",T),k.forEach(function(e){n.append("images",e)}),J((t=ee._id,r=n,function(){var e=Object(l.a)(A().mark(function e(a){var n,c,o;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PRODUCT_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,p.a.put("/api/v1/admin/product/".concat(t),r,n);case 5:c=e.sent,o=c.data,a({type:"UPDATE_PRODUCT_SUCCESS",payload:o.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PRODUCT_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-4"},"Update Product"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"text",id:"name_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"price_field"},"Price"),n.a.createElement("input",{type:"number",id:"price_field",className:"form-control",value:f,min:"0",onChange:function(e){return E(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description_field"},"Description"),n.a.createElement("textarea",{className:"form-control",id:"description_field",required:!0,rows:"8",value:y,onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"category_field"},"Category"),n.a.createElement("select",{className:"form-control",id:"category_field",required:!0,value:_,onChange:function(e){return w(e.target.value)}},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"stock_field"},"Stock"),n.a.createElement("input",{type:"number",id:"stock_field",className:"form-control",value:j,min:"0",onChange:function(e){return R(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"seller_field"},"Seller Name"),n.a.createElement("input",{type:"text",id:"seller_field",className:"form-control",value:T,onChange:function(e){return U(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Images"),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);B([]),G([]),V([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(B(function(e){return[].concat(Object(ve.a)(e),[t.result])}),G(function(e){return[].concat(Object(ve.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Images")),q&&q.map(function(e){return n.a.createElement("img",{key:e,src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"})}),$&&$.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"})})),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3"},"UPDATE")))))))},be=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(u.n)(),c=Object(m.c)(function(e){return e.allOrders}),o=c.loading,i=c.error,f=c.orders,E=Object(m.c)(function(e){return e.order}).isDeleted;Object(r.useEffect)(function(){t(z()),i&&(e.error(i),t(K())),E&&(e.success("Order deleted successfully"),a("/admin/orders"),t({type:"DELETE_ORDER_RESET"}))},[t,e,i,E,a]);var h=function(e){t(function(e){return function(){var t=Object(l.a)(B().mark(function t(a){var r,n;return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_ORDER_REQUEST"}),t.next=4,p.a.delete("/api/v1/admin/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_ORDER_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_ORDER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"All Orders"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Orders"),o?n.a.createElement(T,null):n.a.createElement(ae.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return f.forEach(function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},t.orderStatus):n.a.createElement("p",{style:{color:"red"}},t.orderStatus),actions:n.a.createElement(r.Fragment,null,n.a.createElement(s.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-eye"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return h(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})))))},Oe=function(e){e.match;var t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],f=Object(d.d)(),E=Object(m.b)(),h=Object(u.p)(),v=Object(m.c)(function(e){return e.orderDetails}),y=v.loading,g=v.order,b=void 0===g?{}:g,O=b.shippingInfo,_=b.orderItems,w=b.paymentInfo,S=b.user,N=b.totalPrice,j=b.orderStatus,R=Object(m.c)(function(e){return e.order}),L=R.error,C=R.isUpdated,A=h.id;Object(r.useEffect)(function(){E(J(A)),L&&(f.error(L),E(K())),C&&(f.success("Order updated successfully"),E({type:"UPDATE_ORDER_RESET"}))},[E,f,L,C,A]);var D=function(e){var t=new FormData;t.set("status",c),E(function(e,t){return function(){var a=Object(l.a)(B().mark(function a(r){var n,c,o;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"UPDATE_ORDER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,p.a.put("/api/v1/admin/order/".concat(e),t,n);case 5:c=a.sent,o=c.data,r({type:"UPDATE_ORDER_SUCCESS",payload:o.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"UPDATE_ORDER_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(e,t))},U=O&&"".concat(O.address,", ").concat(O.city,", ").concat(O.postalCode,", ").concat(O.country),P=!(!w||"succeeded"!==w.status);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Process Order # ".concat(b&&b._id)}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,y?n.a.createElement(T,null):n.a.createElement("div",{className:"row d-flex justify-content-around"},n.a.createElement("div",{className:"col-12 col-lg-7 order-details"},n.a.createElement("h2",{className:"my-5"},"Order # ",b._id),n.a.createElement("h4",{className:"mb-4"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",S&&S.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",O&&O.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:"),U),n.a.createElement("p",null,n.a.createElement("b",null,"Amount:")," $",N),n.a.createElement("hr",null),n.a.createElement("h4",{className:"my-4"},"Payment"),n.a.createElement("p",{className:P?"greenColor":"redColor"},n.a.createElement("b",null,P?"PAID":"NOT PAID")),n.a.createElement("h4",{className:"my-4"},"Stripe ID"),n.a.createElement("p",null,n.a.createElement("b",null,w&&w.id)),n.a.createElement("h4",{className:"my-4"},"Order Status:"),n.a.createElement("p",{className:b.orderStatus&&String(b.orderStatus).includes("Delivered")?"greenColor":"redColor"},n.a.createElement("b",null,j)),n.a.createElement("h4",{className:"my-4"},"Order Items:"),n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1"},_&&_.map(function(e){return n.a.createElement("div",{key:e.product,className:"row my-5"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:e.name,height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-5"},n.a.createElement(s.b,{to:"/product/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",null,"$",e.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," Piece(s)")))})),n.a.createElement("hr",null)),n.a.createElement("div",{className:"col-12 col-lg-3 mt-5"},n.a.createElement("h4",{className:"my-4"},"Status"),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control",name:"status",value:c,onChange:function(e){return o(e.target.value)}},n.a.createElement("option",{value:"Processing"},"Processing"),n.a.createElement("option",{value:"Shipped"},"Shipped"),n.a.createElement("option",{value:"Delivered"},"Delivered"))),n.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return D(b._id)}},"Update Status")))))))},_e=function(){var e=Object(d.d)(),t=Object(m.b)(),a=Object(u.n)(),c=Object(m.c)(function(e){return e.allUsers}),o=c.loading,i=c.error,E=c.users,y=Object(m.c)(function(e){return e.user}).isDeleted;Object(r.useEffect)(function(){t(h()),i&&(e.error(i),t(v())),y&&(e.success("User deleted successfully"),a("/admin/users"),t({type:"DELETE_USER_RESET"}))},[t,e,i,y,a]);var g=function(e){t(function(e){return function(){var t=Object(l.a)(f().mark(function t(a){var r,n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_USER_REQUEST"}),t.next=4,p.a.delete("/api/v1/admin/user/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_USER_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_USER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"All Users"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Users"),o?n.a.createElement(T,null):n.a.createElement(ae.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return E.forEach(function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:n.a.createElement(r.Fragment,null,n.a.createElement(s.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return g(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})))))},we=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),E=s[0],h=s[1],y=Object(r.useState)(""),g=Object(i.a)(y,2),b=g[0],O=g[1],_=Object(d.d)(),w=Object(m.b)(),S=Object(u.n)(),N=Object(u.p)(),j=Object(m.c)(function(e){return e.user}),R=j.error,L=j.isUpdated,C=Object(m.c)(function(e){return e.userDetails}).user,T=N.id;Object(r.useEffect)(function(){var e;C&&C._id!==T||L?w((e=T,function(){var t=Object(l.a)(f().mark(function t(a){var r,n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),t.next=4,p.a.get("/api/v1/admin/user/".concat(e));case 4:r=t.sent,n=r.data,a({type:"USER_DETAILS_SUCCESS",payload:n.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}())):(c(C.name),h(C.email),O(C.role)),R&&(_.error(R),w(v())),L&&(_.success("User updated successfully"),S("/admin/users"),w({type:"UPDATE_USER_RESET"}))},[w,_,R,S,L,T,C]);return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Update User"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,n=new FormData;n.set("name",a),n.set("email",E),n.set("role",b),w((t=C._id,r=n,function(){var e=Object(l.a)(f().mark(function e(a){var n,c,o;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_USER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,p.a.put("/api/v1/admin/user/".concat(t),r,n);case 5:c=e.sent,o=c.data,a({type:"UPDATE_USER_SUCCESS",payload:o.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update User"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:a,maxLength:"30",onChange:function(e){return c(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:E,onChange:function(e){return h(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"role_field"},"Role"),n.a.createElement("select",{id:"role_field",className:"form-control",name:"role",value:b,onChange:function(e){return O(e.target.value)}},n.a.createElement("option",{value:"user"},"user"),n.a.createElement("option",{value:"admin"},"admin"))),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3"},"Update")))))))},Se=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(d.d)(),s=Object(m.b)(),u=Object(m.c)(function(e){return e.productReviews}),f=u.error,E=u.reviews,h=Object(m.c)(function(e){return e.review}),v=h.isDeleted,y=h.error;Object(r.useEffect)(function(){f&&(o.error(f),s(P())),y&&(o.error(y),s(P())),v&&(o.success("Review deleted successfully"),s({type:"DELETE_REVIEW_RESET"}))},[s,o,f,a,v,y]);var g=function(e){s(function(e,t){return function(){var a=Object(l.a)(A().mark(function a(r){var n,c;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"DELETE_REVIEW_REQUEST"}),a.next=4,p.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:n=a.sent,c=n.data,r({type:"DELETE_REVIEW_SUCCESS",payload:c.success}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response),r({type:"DELETE_REVIEW_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}(e,a))};return n.a.createElement(r.Fragment,null,n.a.createElement(x,{title:"Product Reviews"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(fe,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row justify-content-center mt-5"},n.a.createElement("div",{className:"col-5"},n.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),s((t=a,function(){var e=Object(l.a)(A().mark(function e(a){var r,n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"GET_REVIEWS_REQUEST"}),e.next=4,p.a.get("/api/v1/reviews?id=".concat(t));case 4:r=e.sent,n=r.data,a({type:"GET_REVIEWS_SUCCESS",payload:n.reviews}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"GET_REVIEWS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"productId_field"},"Enter Product ID"),n.a.createElement("input",{type:"text",id:"productId_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2"},"SEARCH")))),E&&E.length>0?n.a.createElement(ae.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return E.forEach(function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return g(t._id)}},n.a.createElement("i",{className:"fa fa-trash"}))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):n.a.createElement("p",{className:"mt-5 text-center"},"No Reviews.")))))},Ne=function(e){var t=e.children,a=e.isAdmin,c=Object(m.c)(function(e){return e.auth}),o=c.isAuthenticated,l=void 0!==o&&o,i=c.loading,s=void 0===i||i,d=c.user,p=Object(m.b)();return Object(r.useEffect)(function(){d||p(E())},[l,s,p,d]),s?n.a.createElement("h1",null,"loading..."):!s&&l?!0===a&&"admin"!==d.role?n.a.createElement(u.a,{to:"/"}):t:n.a.createElement(u.a,{to:"/login"})},je=a(51),Re=a(103),Le=a(102),xe=Object(je.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PRODUCTS_REQUEST":case"ADMIN_PRODUCTS_REQUEST":return{loading:!0,products:[]};case"ALL_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case"ADMIN_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload};case"ALL_PRODUCTS_FAIL":case"ADMIN_PRODUCTS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(le.a)({},e,{loading:!0});case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return Object(le.a)({},e,{error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_PRODUCT_REQUEST":return Object(le.a)({},e,{loading:!0});case"NEW_PRODUCT_SUCCESS":return{loading:!1,success:t.payload.success,product:t.payload.product};case"NEW_PRODUCT_FAIL":return Object(le.a)({},e,{error:t.payload});case"NEW_PRODUCT_RESET":return Object(le.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_REQUEST":case"UPDATE_PRODUCT_REQUEST":return Object(le.a)({},e,{loading:!0});case"DELETE_PRODUCT_SUCCESS":return Object(le.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_PRODUCT_SUCCESS":return Object(le.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_PRODUCT_FAIL":case"UPDATE_PRODUCT_FAIL":return Object(le.a)({},e,{error:t.payload});case"DELETE_PRODUCT_RESET":return Object(le.a)({},e,{isDeleted:!1});case"UPDATE_PRODUCT_RESET":return Object(le.a)({},e,{isUpdated:!1});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REVIEWS_REQUEST":return Object(le.a)({},e,{loading:!0});case"GET_REVIEWS_SUCCESS":return{loading:!1,reviews:t.payload};case"GET_REVIEWS_FAIL":return Object(le.a)({},e,{error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_REVIEW_REQUEST":return Object(le.a)({},e,{loading:!0});case"DELETE_REVIEW_SUCCESS":return Object(le.a)({},e,{loading:!1,isDeleted:t.payload});case"DELETE_REVIEW_FAIL":return Object(le.a)({},e,{error:t.payload});case"DELETE_REVIEW_RESET":return Object(le.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"REGISTER_USER_REQUEST":case"LOAD_USER_REQUEST":return{loading:!0,isAuthenticated:!1};case"LOGIN_SUCCESS":case"REGISTER_USER_SUCCESS":case"LOAD_USER_SUCCESS":return Object(le.a)({},e,{loading:!1,isAuthenticated:!0,user:t.payload});case"LOGOUT_SUCCESS":return{loading:!1,isAuthenticated:!1,user:null};case"LOAD_USER_FAIL":return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case"LOGOUT_FAIL":return Object(le.a)({},e,{error:t.payload});case"LOGIN_FAIL":case"REGISTER_USER_FAIL":return Object(le.a)({},e,{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_REQUEST":case"UPDATE_PASSWORD_REQUEST":case"UPDATE_USER_REQUEST":case"DELETE_USER_REQUEST":return Object(le.a)({},e,{loading:!0});case"UPDATE_PROFILE_SUCCESS":case"UPDATE_PASSWORD_SUCCESS":case"UPDATE_USER_SUCCESS":return Object(le.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_USER_SUCCESS":return Object(le.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_USER_RESET":return Object(le.a)({},e,{isUpdated:!1});case"DELETE_USER_RESET":return Object(le.a)({},e,{isDeleted:!1});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_USER_FAIL":case"DELETE_USER_FAIL":return Object(le.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_USERS_REQUEST":return Object(le.a)({},e,{loading:!0});case"ALL_USERS_SUCCESS":return Object(le.a)({},e,{loading:!1,users:t.payload});case"ALL_USERS_FAIL":return Object(le.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(le.a)({},e,{loading:!0});case"USER_DETAILS_SUCCESS":return Object(le.a)({},e,{loading:!1,user:t.payload});case"USER_DETAILS_FAIL":return Object(le.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":case"NEW_PASSWORD_REQUEST":return Object(le.a)({},e,{loading:!0,error:null});case"FORGOT_PASSWORD_SUCCESS":return Object(le.a)({},e,{loading:!1,message:t.payload});case"NEW_PASSWORD_SUCCESS":return Object(le.a)({},e,{success:t.payload});case"FORGOT_PASSWORD_FAIL":case"NEW_PASSWORD_FAIL":return Object(le.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload,r=e.cartItems.find(function(e){return e.product===a.product});return r?Object(le.a)({},e,{cartItems:e.cartItems.map(function(e){return e.product===r.product?a:e})}):Object(le.a)({},e,{cartItems:[].concat(Object(ve.a)(e.cartItems),[a])});case"REMOVE_ITEM_CART":return Object(le.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.product!==t.payload})});case"SAVE_SHIPPING_INFO":return Object(le.a)({},e,{shippingInfo:t.payload});case"CLEAR_CART":return Object(le.a)({},e,{cartItems:[]});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_REQUEST":return Object(le.a)({},e,{loading:!0});case"CREATE_ORDER_SUCCESS":return{loading:!1,order:t.payload};case"CREATE_ORDER_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDERS_REQUEST":return{loading:!0};case"MY_ORDERS_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_ORDERS_REQUEST":return{loading:!0};case"ALL_ORDERS_SUCCESS":return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case"ALL_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORDER_REQUEST":case"DELETE_ORDER_REQUEST":return Object(le.a)({},e,{loading:!0});case"UPDATE_ORDER_SUCCESS":return Object(le.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_ORDER_SUCCESS":return Object(le.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_ORDER_FAIL":case"DELETE_ORDER_FAIL":return Object(le.a)({},e,{error:t.payload});case"UPDATE_ORDER_RESET":return Object(le.a)({},e,{isUpdated:!1});case"DELETE_ORDER_RESET":return Object(le.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_REVIEW_REQUEST":return Object(le.a)({},e,{loading:!0});case"NEW_REVIEW_SUCCESS":return{loading:!1,success:t.payload};case"NEW_REVIEW_FAIL":return Object(le.a)({},e,{error:t.payload});case"NEW_REVIEW_RESET":return Object(le.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(le.a)({},e,{error:null});default:return e}}}),Ce={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Te=[Re.a],Ae=Object(je.createStore)(xe,Ce,Object(Le.composeWithDevTools)(je.applyMiddleware.apply(void 0,Te))),De=a(104);function Ue(){Ue=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(L){i=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var c=t&&t.prototype instanceof d?t:d,o=Object.create(c.prototype),l=new N(n||[]);return r(o,"_invoke",{value:O(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var m={};function d(){}function p(){}function f(){}var E={};i(E,c,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&a.call(v,c)&&(E=v);var y=f.prototype=d.prototype=Object.create(E);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;r(this,"_invoke",{value:function(r,c){function o(){return new t(function(n,o){!function r(n,c,o,l){var i=u(e[n],e,c);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){r("next",e,o,l)},function(e){r("throw",e,o,l)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return r("throw",e,o,l)})}l(i.arg)}(r,c,n,o)})}return n=n?n.then(o,o):o()}})}function O(e,t,a){var r="suspendedStart";return function(n,c){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw c;return R()}for(a.method=n,a.arg=c;;){var o=a.delegate;if(o){var l=_(o,a);if(l){if(l===m)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var i=u(e,t,a);if("normal"===i.type){if(r=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(r="completed",a.method="throw",a.arg=i.arg)}}}function _(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,c){void 0===c&&(c=Promise);var o=new b(s(t,a,r,n),c);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(y),i(y,l,"Generator"),i(y,c,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),i=a.call(c,"finallyLoc");if(l&&i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;S(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var Pe=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)(function(){function e(){return(e=Object(l.a)(Ue().mark(function e(){var t,a;return Ue().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/v1/stripeapi");case 2:t=e.sent,a=t.data,c(a.stripeApiKey);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}Ae.dispatch(E()),function(){e.apply(this,arguments)}()},[]),n.a.createElement(s.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(w,null),n.a.createElement("div",{className:"container container-fluid"},n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/",element:n.a.createElement(F,null)}),n.a.createElement(u.b,{path:"/search/:keyword",element:n.a.createElement(F,null)}),n.a.createElement(u.b,{path:"/product/:id",element:n.a.createElement(W,null)}),n.a.createElement(u.b,{path:"/cart",element:n.a.createElement(Q,null)}),n.a.createElement(u.b,{path:"/shipping",element:n.a.createElement(Ne,null,n.a.createElement(M,null))}),n.a.createElement(u.b,{path:"/order/confirm",element:n.a.createElement(Ne,null,n.a.createElement(Y,null))}),n.a.createElement(u.b,{path:"/success",element:n.a.createElement(Ne,null,n.a.createElement(te,null))}),a&&n.a.createElement(u.b,{path:"/payment",element:n.a.createElement($.Elements,{stripe:Object(De.a)(a)},n.a.createElement(ee,null))}),n.a.createElement(u.b,{path:"/login",element:n.a.createElement(ce,null)}),n.a.createElement(u.b,{path:"/register",element:n.a.createElement(ie,null)}),n.a.createElement(u.b,{path:"/password/forgot",element:n.a.createElement(de,null)}),n.a.createElement(u.b,{path:"/password/reset/:token",element:n.a.createElement(pe,null)}),n.a.createElement(u.b,{path:"/me",element:n.a.createElement(Ne,null,n.a.createElement(se,null))}),n.a.createElement(u.b,{path:"/me/update",element:n.a.createElement(Ne,null,n.a.createElement(ue,null))}),n.a.createElement(u.b,{path:"/password/update",element:n.a.createElement(Ne,null,n.a.createElement(me,null))}),n.a.createElement(u.b,{path:"/orders/me",element:n.a.createElement(Ne,null,n.a.createElement(re,null))}),n.a.createElement(u.b,{path:"/order/:id",element:n.a.createElement(Ne,null,n.a.createElement(ne,null))}))),n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/dashboard",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(Ee,null))}),n.a.createElement(u.b,{path:"/admin/products",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(he,null))}),n.a.createElement(u.b,{path:"/admin/product",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(ye,null))}),n.a.createElement(u.b,{path:"/admin/product/:id",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(ge,null))}),n.a.createElement(u.b,{path:"/admin/orders",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(be,null))}),n.a.createElement(u.b,{path:"/admin/order/:id",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(Oe,null))}),n.a.createElement(u.b,{path:"/admin/users",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(_e,null))}),n.a.createElement(u.b,{path:"/admin/user/:id",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(we,null))}),n.a.createElement(u.b,{path:"/admin/reviews",isAdmin:!0,element:n.a.createElement(Ne,null,n.a.createElement(Se,null))})),n.a.createElement(S,null)))},Ie=a(105),Fe={timeout:5e3,position:d.b.BOTTOM_CENTER,transition:d.c.SCALE};o.a.createRoot(document.getElementById("root")).render(n.a.createElement(m.a,{store:Ae},n.a.createElement(d.a,Object.assign({template:Ie.a},Fe),n.a.createElement(Pe,null))))},76:function(e,t,a){}},[[106,2,1]]]);
//# sourceMappingURL=main.1c5abe0e.chunk.js.map